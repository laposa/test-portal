---
const { hide_menu } = Astro.props;
---

<header>
	<div class="header">
		<a href="/" class="logo">LTP<img src="/images/icons/logo_check.svg"></a>
		<div class="account">
			<img src="/images/icons/person.svg" class="account__image"></img>
			<div class="account__menu">
				<span>Test User</span>
				<ul>
					<li><a href="#">Profile</a></li>
					<li><a href="#">Settings</a></li>
					<li><a href="#">Logout</a></li>
				</ul>
			</div>
		</div>
	</div>
	{
		!hide_menu && (
			<ul class="menu">
				<li><a href="/sessions">Sessions</a></li>
				<li><a href="/tests">Tests</a></li>
				<li><a href="/runs">Runs</a></li>
				<li><a href="/service-health">Maintenance</a></li>
			</ul>
		)
	}
</header>

<style>
	
	header {
		position: relative;
		background-color: white;
		width: 100%;
		z-index: 100;
		
		& .header {
			padding: 5px 2rem;
			display: flex;
			align-items: center;
			justify-content: space-between;
			box-shadow: 0px 0px 14px rgba(95, 158, 160, 0.131);
		}

		& .menu {
			padding: 0 2rem 15px;
			display: flex;
			width: 100%;
			column-gap: 20px;
			list-style: none;
			border-bottom: 1px solid var(--primary-opaque);
			margin: 15px 0 0;

			& a {
				text-decoration: none;
			}
		}
	}

	.logo {
		display: flex;
		align-items: center;
		text-decoration: none;
		font-size: 2rem;
		font-weight: 600;
		letter-spacing: 5px;

		& img {
			width: 25px;
		}
	}

	.account {
		display: flex;
		position: relative;
		align-items: center;
		cursor: pointer;

		& span {
			font-weight: bold;

			&:after {
				content: "â–¼";
				margin-left: 5px;
				color: var(--primary);
			}
		}

		& .account__image {
			max-width: 30px;
			border-radius: 50%;
			margin-right: 10px;
		}

		& .account__menu {

			& ul {
				list-style: none;
				padding: 0;
				overflow: hidden;
				transition: 0.5s ease;
				position: absolute;
				top: 100%;
				left: 0;
				width: 100%;
				background-color: white;

				& a {
					width: 100%;
					padding: 0 10px;
					display: block;
					text-decoration: none;
					line-height: 2.5;
					transition: 0.25s ease;

					&:hover {
						color: var(--primary-opaque);
						
					}
				}
			}
		}

		& ul {
			max-height: 0;
		}
		
		&:hover {
			& ul {
				max-height: 200px;
			}
		}
	}
</style>
